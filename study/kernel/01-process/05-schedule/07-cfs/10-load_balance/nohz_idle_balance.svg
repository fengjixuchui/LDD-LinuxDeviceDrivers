<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: nohz_idle_balance Pages: 1 -->
<svg width="1382pt" height="1184pt"
 viewBox="0.00 0.00 1381.53 1184.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1180)">
<title>nohz_idle_balance</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1180 1377.53,-1180 1377.53,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_1</title>
<polygon fill="none" stroke="red" points="8,-509 8,-1168 834,-1168 834,-509 8,-509"/>
<text text-anchor="middle" x="421" y="-1152.8" font-family="Times,serif" font-size="14.00">触发 NOHZ Load Balance</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_2</title>
<polygon fill="none" stroke="blue" points="538,-8 538,-490 1123,-490 1123,-8 538,-8"/>
<text text-anchor="middle" x="830.5" y="-474.8" font-family="Times,serif" font-size="14.00">执行 NOHZ Load Balance</text>
</g>
<!-- run_rebalance_domains -->
<g id="node1" class="node">
<title>run_rebalance_domains</title>
<ellipse fill="none" stroke="black" cx="666" cy="-441" rx="120.48" ry="18"/>
<text text-anchor="middle" x="666" y="-437.3" font-family="Times,serif" font-size="14.00">run_rebalance_domains</text>
</g>
<!-- update_blocked_averages -->
<g id="node2" class="node">
<title>update_blocked_averages</title>
<ellipse fill="none" stroke="black" cx="778" cy="-34" rx="129.18" ry="18"/>
<text text-anchor="middle" x="778" y="-30.3" font-family="Times,serif" font-size="14.00">update_blocked_averages</text>
</g>
<!-- run_rebalance_domains&#45;&gt;update_blocked_averages -->
<g id="edge1" class="edge">
<title>run_rebalance_domains&#45;&gt;update_blocked_averages</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M613.46,-424.8C581.58,-412 547,-390.04 547,-355 547,-355 547,-355 547,-120 547,-88.24 624.86,-64.71 690.17,-50.56"/>
<polygon fill="black" stroke="black" points="691.06,-53.95 700.12,-48.45 689.61,-47.1 691.06,-53.95"/>
</g>
<!-- rebalance_domains -->
<g id="node3" class="node">
<title>rebalance_domains</title>
<ellipse fill="palegreen" stroke="black" cx="665" cy="-121" rx="99.38" ry="18"/>
<text text-anchor="middle" x="665" y="-117.3" font-family="Times,serif" font-size="14.00">rebalance_domains</text>
</g>
<!-- run_rebalance_domains&#45;&gt;rebalance_domains -->
<g id="edge2" class="edge">
<title>run_rebalance_domains&#45;&gt;rebalance_domains</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M625.45,-424.02C598.11,-410.28 567,-387.51 567,-355 567,-355 567,-355 567,-207 567,-177.91 591.94,-156.54 616.65,-142.51"/>
<polygon fill="black" stroke="black" points="618.54,-145.47 625.7,-137.66 615.24,-139.3 618.54,-145.47"/>
</g>
<!-- nohz_idle_balance -->
<g id="node15" class="node">
<title>nohz_idle_balance</title>
<ellipse fill="palegreen" stroke="black" cx="743" cy="-354" rx="94.48" ry="18"/>
<text text-anchor="middle" x="743" y="-350.3" font-family="Times,serif" font-size="14.00">nohz_idle_balance</text>
</g>
<!-- run_rebalance_domains&#45;&gt;nohz_idle_balance -->
<g id="edge17" class="edge">
<title>run_rebalance_domains&#45;&gt;nohz_idle_balance</title>
<path fill="none" stroke="black" d="M681.58,-422.8C692.82,-410.39 708.16,-393.46 720.7,-379.62"/>
<polygon fill="black" stroke="black" points="723.58,-381.65 727.7,-371.89 718.4,-376.95 723.58,-381.65"/>
<text text-anchor="middle" x="808.5" y="-393.8" font-family="Times,serif" font-size="14.00">has NOHZ_BALANCE_KICK</text>
</g>
<!-- scheduler_tick -->
<g id="node4" class="node">
<title>scheduler_tick</title>
<ellipse fill="none" stroke="black" cx="694" cy="-1119" rx="77.19" ry="18"/>
<text text-anchor="middle" x="694" y="-1115.3" font-family="Times,serif" font-size="14.00">scheduler_tick</text>
</g>
<!-- trigger_load_balance -->
<g id="node5" class="node">
<title>trigger_load_balance</title>
<ellipse fill="none" stroke="black" cx="694" cy="-1046" rx="107.48" ry="18"/>
<text text-anchor="middle" x="694" y="-1042.3" font-family="Times,serif" font-size="14.00">trigger_load_balance</text>
</g>
<!-- scheduler_tick&#45;&gt;trigger_load_balance -->
<g id="edge3" class="edge">
<title>scheduler_tick&#45;&gt;trigger_load_balance</title>
<path fill="none" stroke="black" d="M694,-1100.81C694,-1092.79 694,-1083.05 694,-1074.07"/>
<polygon fill="black" stroke="black" points="697.5,-1074.03 694,-1064.03 690.5,-1074.03 697.5,-1074.03"/>
</g>
<!-- nohz_balancer_kick -->
<g id="node6" class="node">
<title>nohz_balancer_kick</title>
<ellipse fill="none" stroke="black" cx="518" cy="-973" rx="100.18" ry="18"/>
<text text-anchor="middle" x="518" y="-969.3" font-family="Times,serif" font-size="14.00">nohz_balancer_kick</text>
</g>
<!-- trigger_load_balance&#45;&gt;nohz_balancer_kick -->
<g id="edge4" class="edge">
<title>trigger_load_balance&#45;&gt;nohz_balancer_kick</title>
<path fill="none" stroke="black" d="M654.5,-1029.07C628.39,-1018.53 594,-1004.66 566.27,-993.47"/>
<polygon fill="black" stroke="black" points="567.34,-990.13 556.76,-989.64 564.72,-996.62 567.34,-990.13"/>
</g>
<!-- raise_softirq_SCHED_SOFTIRQ -->
<g id="node7" class="node">
<title>raise_softirq_SCHED_SOFTIRQ</title>
<ellipse fill="lightgrey" stroke="black" cx="666" cy="-535" rx="158.67" ry="18"/>
<text text-anchor="middle" x="666" y="-531.3" font-family="Times,serif" font-size="14.00">raise_softirq(SCHED_SOFTIRQ)</text>
</g>
<!-- trigger_load_balance&#45;&gt;raise_softirq_SCHED_SOFTIRQ -->
<g id="edge5" class="edge">
<title>trigger_load_balance&#45;&gt;raise_softirq_SCHED_SOFTIRQ</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M765.63,-1032.46C796.22,-1022.58 825,-1005.04 825,-974 825,-974 825,-974 825,-607 825,-579.42 804.8,-562.48 778.8,-552.1"/>
<polygon fill="black" stroke="black" points="779.98,-548.8 769.39,-548.69 777.6,-555.38 779.98,-548.8"/>
</g>
<!-- set_NOHZ_STATS_KICK -->
<g id="node8" class="node">
<title>set_NOHZ_STATS_KICK</title>
<ellipse fill="none" stroke="black" cx="137" cy="-900" rx="120.78" ry="18"/>
<text text-anchor="middle" x="137" y="-896.3" font-family="Times,serif" font-size="14.00">set_NOHZ_STATS_KICK</text>
</g>
<!-- nohz_balancer_kick&#45;&gt;set_NOHZ_STATS_KICK -->
<g id="edge6" class="edge">
<title>nohz_balancer_kick&#45;&gt;set_NOHZ_STATS_KICK</title>
<path fill="none" stroke="black" d="M451.2,-959.55C386.62,-947.52 288.61,-929.25 219.26,-916.33"/>
<polygon fill="black" stroke="black" points="219.71,-912.85 209.24,-914.46 218.43,-919.74 219.71,-912.85"/>
</g>
<!-- set_NOHZ_BALANCE_KICK -->
<g id="node9" class="node">
<title>set_NOHZ_BALANCE_KICK</title>
<ellipse fill="none" stroke="black" cx="414" cy="-900" rx="137.58" ry="18"/>
<text text-anchor="middle" x="414" y="-896.3" font-family="Times,serif" font-size="14.00">set_NOHZ_BALANCE_KICK</text>
</g>
<!-- nohz_balancer_kick&#45;&gt;set_NOHZ_BALANCE_KICK -->
<g id="edge7" class="edge">
<title>nohz_balancer_kick&#45;&gt;set_NOHZ_BALANCE_KICK</title>
<path fill="none" stroke="black" d="M493.62,-955.35C479.76,-945.9 462.23,-933.93 447.14,-923.63"/>
<polygon fill="black" stroke="black" points="448.82,-920.54 438.59,-917.79 444.88,-926.32 448.82,-920.54"/>
</g>
<!-- set_NOHZ_NEXT_KICK -->
<g id="node10" class="node">
<title>set_NOHZ_NEXT_KICK</title>
<ellipse fill="none" stroke="black" cx="688" cy="-900" rx="118.08" ry="18"/>
<text text-anchor="middle" x="688" y="-896.3" font-family="Times,serif" font-size="14.00">set_NOHZ_NEXT_KICK</text>
</g>
<!-- nohz_balancer_kick&#45;&gt;set_NOHZ_NEXT_KICK -->
<g id="edge8" class="edge">
<title>nohz_balancer_kick&#45;&gt;set_NOHZ_NEXT_KICK</title>
<path fill="none" stroke="black" d="M555.73,-956.24C580.56,-945.87 613.28,-932.21 639.96,-921.06"/>
<polygon fill="black" stroke="black" points="641.62,-924.17 649.49,-917.08 638.92,-917.71 641.62,-924.17"/>
</g>
<!-- raise_softirq_SCHED_SOFTIRQ&#45;&gt;run_rebalance_domains -->
<g id="edge16" class="edge">
<title>raise_softirq_SCHED_SOFTIRQ&#45;&gt;run_rebalance_domains</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M666,-516.7C666,-503.46 666,-484.95 666,-469.66"/>
<polygon fill="black" stroke="black" points="669.5,-469.23 666,-459.23 662.5,-469.23 669.5,-469.23"/>
</g>
<!-- kick_ilb -->
<g id="node11" class="node">
<title>kick_ilb</title>
<ellipse fill="none" stroke="black" cx="417" cy="-827" rx="45.49" ry="18"/>
<text text-anchor="middle" x="417" y="-823.3" font-family="Times,serif" font-size="14.00">kick_ilb</text>
</g>
<!-- set_NOHZ_STATS_KICK&#45;&gt;kick_ilb -->
<g id="edge9" class="edge">
<title>set_NOHZ_STATS_KICK&#45;&gt;kick_ilb</title>
<path fill="none" stroke="black" d="M195.36,-884.2C247.13,-871.07 321.8,-852.14 369.86,-839.95"/>
<polygon fill="black" stroke="black" points="370.87,-843.31 379.7,-837.46 369.15,-836.52 370.87,-843.31"/>
</g>
<!-- set_NOHZ_BALANCE_KICK&#45;&gt;kick_ilb -->
<g id="edge10" class="edge">
<title>set_NOHZ_BALANCE_KICK&#45;&gt;kick_ilb</title>
<path fill="none" stroke="black" d="M414.73,-881.81C415.07,-873.79 415.48,-864.05 415.86,-855.07"/>
<polygon fill="black" stroke="black" points="419.36,-855.17 416.28,-845.03 412.36,-854.87 419.36,-855.17"/>
</g>
<!-- set_NOHZ_NEXT_KICK&#45;&gt;kick_ilb -->
<g id="edge11" class="edge">
<title>set_NOHZ_NEXT_KICK&#45;&gt;kick_ilb</title>
<path fill="none" stroke="black" d="M631.19,-884.12C581.45,-871.08 510.06,-852.38 463.61,-840.21"/>
<polygon fill="black" stroke="black" points="464.36,-836.79 453.8,-837.64 462.59,-843.56 464.36,-836.79"/>
</g>
<!-- find_new_ilb -->
<g id="node12" class="node">
<title>find_new_ilb</title>
<ellipse fill="none" stroke="black" cx="449" cy="-754" rx="67.69" ry="18"/>
<text text-anchor="middle" x="449" y="-750.3" font-family="Times,serif" font-size="14.00">find_new_ilb</text>
</g>
<!-- kick_ilb&#45;&gt;find_new_ilb -->
<g id="edge12" class="edge">
<title>kick_ilb&#45;&gt;find_new_ilb</title>
<path fill="none" stroke="black" d="M424.58,-809.17C428.31,-800.9 432.9,-790.72 437.08,-781.44"/>
<polygon fill="black" stroke="black" points="440.33,-782.75 441.25,-772.2 433.95,-779.88 440.33,-782.75"/>
</g>
<!-- KICK_CPU_BY_IPI -->
<g id="node13" class="node">
<title>KICK_CPU_BY_IPI</title>
<ellipse fill="palegreen" stroke="black" cx="456" cy="-681" rx="332.54" ry="18"/>
<text text-anchor="middle" x="456" y="-677.3" font-family="Times,serif" font-size="14.00">smp_call_function_single_async(ilb_cpu, &amp;cpu_rq(ilb_cpu)&#45;&gt;nohz_csd)</text>
</g>
<!-- find_new_ilb&#45;&gt;KICK_CPU_BY_IPI -->
<g id="edge13" class="edge">
<title>find_new_ilb&#45;&gt;KICK_CPU_BY_IPI</title>
<path fill="none" stroke="black" d="M450.69,-735.81C451.49,-727.79 452.45,-718.05 453.33,-709.07"/>
<polygon fill="black" stroke="black" points="456.82,-709.32 454.32,-699.03 449.86,-708.64 456.82,-709.32"/>
</g>
<!-- nohz_csd_func -->
<g id="node14" class="node">
<title>nohz_csd_func</title>
<ellipse fill="none" stroke="black" cx="582" cy="-608" rx="77.19" ry="18"/>
<text text-anchor="middle" x="582" y="-604.3" font-family="Times,serif" font-size="14.00">nohz_csd_func</text>
</g>
<!-- KICK_CPU_BY_IPI&#45;&gt;nohz_csd_func -->
<g id="edge14" class="edge">
<title>KICK_CPU_BY_IPI&#45;&gt;nohz_csd_func</title>
<path fill="none" stroke="black" d="M486.18,-662.99C503.82,-653.05 526.23,-640.42 544.94,-629.88"/>
<polygon fill="black" stroke="black" points="546.8,-632.85 553.79,-624.89 543.36,-626.75 546.8,-632.85"/>
</g>
<!-- nohz_csd_func&#45;&gt;raise_softirq_SCHED_SOFTIRQ -->
<g id="edge15" class="edge">
<title>nohz_csd_func&#45;&gt;raise_softirq_SCHED_SOFTIRQ</title>
<path fill="none" stroke="black" d="M601.48,-590.53C612.35,-581.35 626.08,-569.75 638.07,-559.61"/>
<polygon fill="black" stroke="black" points="640.66,-562 646.04,-552.87 636.14,-556.65 640.66,-562"/>
</g>
<!-- clear_nohz_idle_balance -->
<g id="node16" class="node">
<title>clear_nohz_idle_balance</title>
<ellipse fill="lightgrey" stroke="black" cx="743" cy="-281" rx="156.77" ry="18"/>
<text text-anchor="middle" x="743" y="-277.3" font-family="Times,serif" font-size="14.00">this_rq&#45;&gt;nohz_idle_balance = 0</text>
</g>
<!-- nohz_idle_balance&#45;&gt;clear_nohz_idle_balance -->
<g id="edge18" class="edge">
<title>nohz_idle_balance&#45;&gt;clear_nohz_idle_balance</title>
<path fill="none" stroke="black" d="M743,-335.81C743,-327.79 743,-318.05 743,-309.07"/>
<polygon fill="black" stroke="black" points="746.5,-309.03 743,-299.03 739.5,-309.03 746.5,-309.03"/>
</g>
<!-- _nohz_idle_balance -->
<g id="node17" class="node">
<title>_nohz_idle_balance</title>
<ellipse fill="none" stroke="black" cx="1016" cy="-281" rx="98.58" ry="18"/>
<text text-anchor="middle" x="1016" y="-277.3" font-family="Times,serif" font-size="14.00">_nohz_idle_balance</text>
</g>
<!-- nohz_idle_balance&#45;&gt;_nohz_idle_balance -->
<g id="edge19" class="edge">
<title>nohz_idle_balance&#45;&gt;_nohz_idle_balance</title>
<path fill="none" stroke="black" d="M796.29,-339.14C840.9,-327.54 904.71,-310.94 952.07,-298.63"/>
<polygon fill="black" stroke="black" points="953.12,-301.97 961.92,-296.07 951.36,-295.2 953.12,-301.97"/>
</g>
<!-- for_each_nohz_idle_cpus_mask -->
<g id="node18" class="node">
<title>for_each_nohz_idle_cpus_mask</title>
<ellipse fill="none" stroke="black" cx="885" cy="-208" rx="152.17" ry="18"/>
<text text-anchor="middle" x="885" y="-204.3" font-family="Times,serif" font-size="14.00">for_each_nohz_idle_cpus_mask</text>
</g>
<!-- _nohz_idle_balance&#45;&gt;for_each_nohz_idle_cpus_mask -->
<g id="edge20" class="edge">
<title>_nohz_idle_balance&#45;&gt;for_each_nohz_idle_cpus_mask</title>
<path fill="none" stroke="black" d="M985.95,-263.71C967.82,-253.89 944.5,-241.25 924.85,-230.6"/>
<polygon fill="black" stroke="black" points="926.28,-227.39 915.82,-225.71 922.95,-233.55 926.28,-227.39"/>
</g>
<!-- for_each_nohz_idle_cpus_mask&#45;&gt;rebalance_domains -->
<g id="edge23" class="edge">
<title>for_each_nohz_idle_cpus_mask&#45;&gt;rebalance_domains</title>
<path fill="none" stroke="black" d="M766.84,-196.64C730.6,-191.33 696.66,-183.47 683,-172 676.17,-166.26 671.93,-157.73 669.3,-149.33"/>
<polygon fill="black" stroke="black" points="672.63,-148.2 666.82,-139.34 665.83,-149.89 672.63,-148.2"/>
<text text-anchor="middle" x="781.5" y="-160.8" font-family="Times,serif" font-size="14.00">has NOHZ_BALANCE_KICK</text>
</g>
<!-- update_nohz_stats -->
<g id="node19" class="node">
<title>update_nohz_stats</title>
<ellipse fill="none" stroke="black" cx="882" cy="-121" rx="96.68" ry="18"/>
<text text-anchor="middle" x="882" y="-117.3" font-family="Times,serif" font-size="14.00">update_nohz_stats</text>
</g>
<!-- for_each_nohz_idle_cpus_mask&#45;&gt;update_nohz_stats -->
<g id="edge21" class="edge">
<title>for_each_nohz_idle_cpus_mask&#45;&gt;update_nohz_stats</title>
<path fill="none" stroke="black" d="M884.39,-189.8C883.98,-178.16 883.43,-162.55 882.96,-149.24"/>
<polygon fill="black" stroke="black" points="886.46,-149.05 882.61,-139.18 879.46,-149.29 886.46,-149.05"/>
<text text-anchor="middle" x="969.5" y="-160.8" font-family="Times,serif" font-size="14.00">has NOHZ_STATS_KICK</text>
</g>
<!-- update_nohz_stats&#45;&gt;update_blocked_averages -->
<g id="edge22" class="edge">
<title>update_nohz_stats&#45;&gt;update_blocked_averages</title>
<path fill="none" stroke="black" d="M861.45,-103.21C845.89,-90.48 824.3,-72.84 806.97,-58.68"/>
<polygon fill="black" stroke="black" points="808.82,-55.67 798.86,-52.05 804.39,-61.09 808.82,-55.67"/>
<text text-anchor="middle" x="922.5" y="-73.8" font-family="Times,serif" font-size="14.00">has NOHZ_STATS_KICK</text>
</g>
<!-- newidle_balance -->
<g id="node20" class="node">
<title>newidle_balance</title>
<ellipse fill="palegreen" stroke="black" cx="1109" cy="-1119" rx="87.18" ry="18"/>
<text text-anchor="middle" x="1109" y="-1115.3" font-family="Times,serif" font-size="14.00">newidle_balance</text>
</g>
<!-- nohz_newidle_balance -->
<g id="node21" class="node">
<title>nohz_newidle_balance</title>
<ellipse fill="none" stroke="black" cx="1109" cy="-1046" rx="113.18" ry="18"/>
<text text-anchor="middle" x="1109" y="-1042.3" font-family="Times,serif" font-size="14.00">nohz_newidle_balance</text>
</g>
<!-- newidle_balance&#45;&gt;nohz_newidle_balance -->
<g id="edge24" class="edge">
<title>newidle_balance&#45;&gt;nohz_newidle_balance</title>
<path fill="none" stroke="black" d="M1109,-1100.81C1109,-1092.79 1109,-1083.05 1109,-1074.07"/>
<polygon fill="black" stroke="black" points="1112.5,-1074.03 1109,-1064.03 1105.5,-1074.03 1112.5,-1074.03"/>
</g>
<!-- set_NOHZ_NEWILB_KICK -->
<g id="node22" class="node">
<title>set_NOHZ_NEWILB_KICK</title>
<ellipse fill="palegreen" stroke="black" cx="1109" cy="-973" rx="264.55" ry="18"/>
<text text-anchor="middle" x="1109" y="-969.3" font-family="Times,serif" font-size="14.00">atomic_or(NOHZ_NEWILB_KICK, nohz_flags(this_cpu))</text>
</g>
<!-- nohz_newidle_balance&#45;&gt;set_NOHZ_NEWILB_KICK -->
<g id="edge25" class="edge">
<title>nohz_newidle_balance&#45;&gt;set_NOHZ_NEWILB_KICK</title>
<path fill="none" stroke="black" d="M1109,-1027.81C1109,-1019.79 1109,-1010.05 1109,-1001.07"/>
<polygon fill="black" stroke="black" points="1112.5,-1001.03 1109,-991.03 1105.5,-1001.03 1112.5,-1001.03"/>
</g>
</g>
</svg>
